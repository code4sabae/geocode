<!DOCTYPE html><html><head><meta charset="utf-8"/>
</head><body>

<div>
<h1>住所街区レベルのジオコーディング、逆ジオコーディング</h1>

<div>
<h2>住所街区レベルのジオコーディング（住所から緯度経度）</h2>
<input type=text id=input1 value="福井県,鯖江市,新横江2"><br>
↓<br>
<textarea id="result1" style="width:90vw;height:20em;"></textarea>
</div>

<div>
<h2>住所街区レベルの逆ジオコーディング（緯度経度から住所）</h2>
<input type=text id=input2 value="35.941043,136.199640"><br>
↓<br>
<textarea id="result2" style="width:90vw;height:20em;"></textarea>
</div>
  
<hr>
<a href=https://github.com/code4sabae/lgcode>src on GitHub</a>

<script type="module">
import { getLatLng, fromLatLng } from "https://code4sabae.github.io/geocode/geocode.mjs"

const setInput = (input, func) => {
  input.onkeyup = input.onchange = async function () {
    const params = input.value.split(",");
    const json = func(params[0], params[1], params[2]);
    result.value = JSON.stringify(json, null, 2);
  };
};

setInput(input1, getLatLng);
setInput(input1, fromLatLng);

</script>
</body>
</html>
